{
    "version": "https://jsonfeed.org/version/1",
    "title": "Mawchu 貓奴前端的天空 • All posts by \"vue3\" category",
    "description": "Mawchu 貓奴前端，為熱愛平面設計與貓咪的前端工程師 - 謝佳芳（毛球）的技術部落格，喜歡撰寫技術文章幫助自己在前端之路成長，涉及 Javascript、Vue、Laravel 與其他程式相關的討論與學習",
    "home_page_url": "http://maomaoxie.github.io",
    "items": [
        {
            "id": "http://maomaoxie.github.io/2022/02/18/zh-tw/vue3-vite-ts/",
            "url": "http://maomaoxie.github.io/2022/02/18/zh-tw/vue3-vite-ts/",
            "title": "Vue3 + Vite + Ts 專案建置",
            "date_published": "2022-02-18T12:16:27.000Z",
            "content_html": "<html><head></head><body><p>Vite 問世以後總算不用再看著打包的百分比甚麼時候跑完了（灑花，按下 ctrl S 直接查看效果棒棒的！<br>不過再也沒有藉口可以喝口拿鐵啦XD</p>\n<p>簡單介紹一下 Vite 是甚麼：</p>\n<blockquote><p> Vite（法语意为 “快速的”，发音 /vit/，发音同 “veet”）是一种<strong>新型前端构建工具</strong>，能够显著提升前端开发体验。它主要由两部分组成：</p>\n<ul>\n<li>一个开发服务器，它基于 原生 ES 模块 提供了 丰富的内建功能，如速度快到惊人的<strong>模块热更新（HMR）</strong>。</li>\n<li>一套构建指令，它使用 Rollup 打包你的代码，并且它是预配置的，可输出用于生产环境的高度优化过的静态资源。</li>\n</ul>\n</blockquote>\n<p>先打預防針，小菜雞本人對於類別的物件導向了解尚淺，ts 的運用也不熟悉，導入使用再一步一步學習，這裡著重於專案是否能啟用。<br>本篇簡略說明建置 Vue3 + Vite + Ts 的專案過程中使用的方法：</p>\n<h1 id=\"快速建置專案\"><a href=\"#快速建置專案\" class=\"headerlink\" title=\"快速建置專案\"></a>快速建置專案</h1> <figure class=\"highlight bash hljs\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"hljs-comment\"># npm 6.x</span></span><br><span class=\"line\">npm create vite@latest my-vue-app --template vue</span><br></pre></td></tr></tbody></table></figure>\n  <figure class=\"highlight bash hljs\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"hljs-built_in\">cd</span> my-project</span><br><span class=\"line\">npm install</span><br><span class=\"line\">npm run dev</span><br></pre></td></tr></tbody></table></figure>\n<h1 id=\"使用-ant-design-vue-UI\"><a href=\"#使用-ant-design-vue-UI\" class=\"headerlink\" title=\"使用 ant design vue UI\"></a>使用 ant design vue UI</h1><p>  antd 的介面優雅簡約個人滿喜歡的，配色切換的設定也很方便</p>\n<ul>\n<li><p>安裝套件</p>\n  <figure class=\"highlight bash hljs\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i --save ant-design-vue@next</span><br></pre></td></tr></tbody></table></figure></li>\n<li><p>新建 libs 資料夾在 src 底下，新增 antdv.ts</p>\n<figure class=\"highlight javascript hljs\"><figcaption><span>antdv.ts</span></figcaption><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"hljs-keyword\">import</span> type { <span class=\"title class_\">App</span> } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">\"vue\"</span>;</span><br><span class=\"line\"><span class=\"hljs-keyword\">import</span> <span class=\"title class_\">Antd</span> <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">\"ant-design-vue\"</span>;</span><br><span class=\"line\"><span class=\"hljs-keyword\">import</span> <span class=\"hljs-string\">\"ant-design-vue/dist/antd.less\"</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">function</span> <span class=\"title function_\">setupAntd</span>(<span class=\"hljs-params\">app: App&lt;Element&gt;</span>): <span class=\"hljs-keyword\">void</span> {</span><br><span class=\"line\">  app.<span class=\"title function_\">use</span>(<span class=\"title class_\">Antd</span>);</span><br><span class=\"line\">}</span><br><span class=\"line\">    </span><br></pre></td></tr></tbody></table></figure>\n</li>\n<li><p>全局入口引用 antd，並且註冊 antd icon</p>\n<figure class=\"highlight javascript hljs\"><figcaption><span>main.ts</span></figcaption><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"hljs-keyword\">import</span> { createApp } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'vue'</span></span><br><span class=\"line\"><span class=\"hljs-keyword\">import</span> <span class=\"title class_\">App</span> <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'./App.vue'</span></span><br><span class=\"line\"><span class=\"hljs-keyword\">import</span> { setupAntd } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">\"./libs/antdv\"</span>; <span class=\"hljs-comment\">// 新增++</span></span><br><span class=\"line\"><span class=\"hljs-keyword\">import</span> * <span class=\"hljs-keyword\">as</span> <span class=\"title class_\">Icons</span> <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'@ant-design/icons-vue'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"hljs-keyword\">const</span> app = <span class=\"title function_\">createApp</span>(<span class=\"title class_\">App</span>);</span><br><span class=\"line\"><span class=\"hljs-keyword\">const</span> icons :any = <span class=\"title class_\">Icons</span>;</span><br><span class=\"line\"><span class=\"title function_\">setupAntd</span>(app); </span><br><span class=\"line\"><span class=\"title function_\">createApp</span>(<span class=\"title class_\">App</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"hljs-comment\">// 父組件全局註冊ICONS</span></span><br><span class=\"line\"><span class=\"hljs-keyword\">for</span>(<span class=\"hljs-keyword\">const</span> i <span class=\"hljs-keyword\">in</span> icons) {</span><br><span class=\"line\">  app.<span class=\"title function_\">component</span>(i, <span class=\"title class_\">Icons</span>[i]);</span><br><span class=\"line\">}</span><br><span class=\"line\"></span><br><span class=\"line\">app.<span class=\"title function_\">mount</span>(<span class=\"hljs-string\">'#app'</span>)</span><br><span class=\"line\">    </span><br></pre></td></tr></tbody></table></figure></li>\n<li><p>在 vite.config.ts 修改主要配色 primary 變數，這裡踩了很多坑，處理器的設定物件結構一直不對（哭</p>\n</li>\n<li><p>由於 antd 使用的 css 預處理器是不熟悉的 less，無奈一個專案還是選擇一個預處理器就好，只能新學一個寫法來制定自己的全局 css 囉！scss 先放一邊啦。套用全局 css 只需在 additionalData 裡面放置路徑的字串。 </p>\n<figure class=\"highlight javascript hljs\"><figcaption><span>vite.config.ts</span></figcaption><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"hljs-keyword\">import</span> { defineConfig } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'vite'</span></span><br><span class=\"line\"><span class=\"hljs-keyword\">import</span> vue <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'@vitejs/plugin-vue'</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"hljs-comment\">// https://vitejs.dev/config/</span></span><br><span class=\"line\"><span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> <span class=\"title function_\">defineConfig</span>({</span><br><span class=\"line\">  <span class=\"hljs-attr\">plugins</span>: [<span class=\"title function_\">vue</span>()],</span><br><span class=\"line\">  <span class=\"hljs-attr\">css</span>: {</span><br><span class=\"line\">    <span class=\"hljs-attr\">preprocessorOptions</span>: {</span><br><span class=\"line\">      <span class=\"hljs-attr\">less</span>: {</span><br><span class=\"line\">        <span class=\"hljs-attr\">javascriptEnabled</span>: <span class=\"hljs-literal\">true</span>,</span><br><span class=\"line\">        <span class=\"hljs-attr\">modifyVars</span>: {</span><br><span class=\"line\">          <span class=\"hljs-string\">'primary-color'</span>: <span class=\"hljs-string\">'#94D0C9'</span>,</span><br><span class=\"line\">          <span class=\"hljs-string\">'link-color'</span>: <span class=\"hljs-string\">'red'</span>,</span><br><span class=\"line\">        },</span><br><span class=\"line\">        <span class=\"hljs-attr\">additionalData</span>: <span class=\"hljs-string\">'@import \"./src/assets/style/global.less\";'</span>,</span><br><span class=\"line\">      }</span><br><span class=\"line\">    },</span><br><span class=\"line\">  },</span><br><span class=\"line\">})</span><br></pre></td></tr></tbody></table></figure></li>\n</ul>\n<h1 id=\"vuex4-導入與建置-mapStates-模組\"><a href=\"#vuex4-導入與建置-mapStates-模組\" class=\"headerlink\" title=\"vuex4 導入與建置 mapStates 模組\"></a>vuex4 導入與建置 mapStates 模組</h1><ul>\n<li><p>安裝 vuex4</p>\n  <figure class=\"highlight bash hljs\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install vuex@next</span><br></pre></td></tr></tbody></table></figure></li>\n<li><p>全局入口引用 vuex，多了一把<strong>鑰匙（key）</strong>需要設置並且傳入 <strong>useStore()</strong> 中才能啟用 vuex，鑰匙的型態是 symbol()</p>\n<figure class=\"highlight javascript hljs\"><figcaption><span>main.ts</span></figcaption><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"hljs-keyword\">import</span> { createApp } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'vue'</span></span><br><span class=\"line\"><span class=\"hljs-keyword\">import</span> <span class=\"title class_\">App</span> <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'./App.vue'</span></span><br><span class=\"line\"><span class=\"hljs-keyword\">import</span> { setupAntd } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">\"./libs/antdv\"</span></span><br><span class=\"line\"><span class=\"hljs-keyword\">import</span> * <span class=\"hljs-keyword\">as</span> <span class=\"title class_\">Icons</span> <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'@ant-design/icons-vue'</span></span><br><span class=\"line\"><span class=\"hljs-keyword\">import</span> { store, key } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'./store/store'</span> <span class=\"hljs-comment\">// 新增++</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"hljs-keyword\">const</span> app = <span class=\"title function_\">createApp</span>(<span class=\"title class_\">App</span>);</span><br><span class=\"line\"><span class=\"hljs-keyword\">const</span> icons :any = <span class=\"title class_\">Icons</span>;</span><br><span class=\"line\">app.<span class=\"title function_\">use</span>(store, key) <span class=\"hljs-comment\">// 新增++</span></span><br><span class=\"line\"><span class=\"title function_\">setupAntd</span>(app); </span><br><span class=\"line\"><span class=\"title function_\">createApp</span>(<span class=\"title class_\">App</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"hljs-comment\">// 父組件全局註冊ICONS</span></span><br><span class=\"line\"><span class=\"hljs-keyword\">for</span>(<span class=\"hljs-keyword\">const</span> i <span class=\"hljs-keyword\">in</span> icons) {</span><br><span class=\"line\">  app.<span class=\"title function_\">component</span>(i, <span class=\"title class_\">Icons</span>[i]);</span><br><span class=\"line\">}</span><br><span class=\"line\"></span><br><span class=\"line\">app.<span class=\"title function_\">mount</span>(<span class=\"hljs-string\">'#app'</span>)</span><br><span class=\"line\">    </span><br></pre></td></tr></tbody></table></figure></li>\n<li><p>撰寫 vuex 配置檔案，為了方便後續使用模組導入 mapStates 的方式，統一放在 src 底下的資料夾 store 內：</p>\n<img src=\"/images/vue3-vite-ts/01.png\" class=\"\" width=\"800\" height=\"200\" title=\"[Vue3 [Vue3]]\"></li>\n<li><p>與 vuex3寫法上的不同點：<br>以前使用 new Store()，vuex4改用 createStore() 建立倉庫。</p>\n<figure class=\"highlight javascript hljs\"><figcaption><span>store.ts</span></figcaption><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"hljs-keyword\">import</span> { <span class=\"title class_\">InjectionKey</span> } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'vue'</span></span><br><span class=\"line\"><span class=\"hljs-keyword\">import</span> { createStore, <span class=\"title class_\">Store</span> } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'vuex'</span></span><br><span class=\"line\"><span class=\"hljs-keyword\">import</span> axios <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'axios'</span></span><br><span class=\"line\"><span class=\"hljs-keyword\">import</span> <span class=\"title class_\">ApiClient</span> <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'../ApiClient'</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"hljs-comment\">// 为 store state 声明类型</span></span><br><span class=\"line\"><span class=\"hljs-keyword\">export</span> interface <span class=\"title class_\">State</span> {</span><br><span class=\"line\">  <span class=\"hljs-attr\">count</span>: number</span><br><span class=\"line\">}</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"hljs-comment\">// 定义 injection key</span></span><br><span class=\"line\"><span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">const</span> <span class=\"hljs-attr\">key</span>: <span class=\"title class_\">InjectionKey</span>&lt;<span class=\"title class_\">Store</span>&lt;<span class=\"title class_\">State</span>&gt;&gt; = <span class=\"title class_\">Symbol</span>()</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">const</span> store = createStore&lt;<span class=\"title class_\">State</span>&gt;({</span><br><span class=\"line\">  <span class=\"hljs-attr\">state</span>: {</span><br><span class=\"line\">    <span class=\"hljs-attr\">count</span>: <span class=\"hljs-number\">0</span></span><br><span class=\"line\">  },</span><br><span class=\"line\">  <span class=\"hljs-attr\">getters</span>: {</span><br><span class=\"line\">  },</span><br><span class=\"line\">  <span class=\"hljs-attr\">mutations</span>: {</span><br><span class=\"line\">  },</span><br><span class=\"line\">  <span class=\"hljs-attr\">actions</span>: {</span><br><span class=\"line\">  },</span><br><span class=\"line\">})</span><br><span class=\"line\">    </span><br></pre></td></tr></tbody></table></figure>\n</li>\n<li><p>在 Vue3.x 版本中使用 vuex4 需要透過 useStore() 方法才能訪問 store 內容：</p>\n<figure class=\"highlight javascript hljs\"><figcaption><span>store.ts</span></figcaption><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">      </span><br><span class=\"line\">    </span><br></pre></td></tr></tbody></table></figure></li>\n</ul>\n</body></html>",
            "tags": [
                "vue3",
                "vite",
                "typescript"
            ]
        },
        {
            "id": "http://maomaoxie.github.io/2022/02/16/zh-tw/vue3-composition-api/",
            "url": "http://maomaoxie.github.io/2022/02/16/zh-tw/vue3-composition-api/",
            "title": "Vue 3 的變革",
            "date_published": "2022-02-16T07:12:05.000Z",
            "content_html": "<html><head></head><body><img src=\"/images/vue3-composition-api/001.png\" class=\"\" width=\"800\" height=\"200\" title=\"vue3-composition-api\">\n<p>本篇尚未完整，持續更新中…</p>\n<p>你還在用 Vue 2 整理那些物件包裹起來的 data、方法與生命週期的鉤子嗎？還在頭痛父子元件之間傳遞資料的複雜寫法嗎？如果想尋找更接近 typescript 易於維護的團隊開發方式，可以考慮無痛升級 Vue 3 唷！特快車來了還不跟上！</p>\n<p>Vue 3 用法隨著版本更新越來越精進與簡潔，尤其是使用漸進式 API 的寫法大大提升了整 code 的整潔與好維護度，以下是一些常用到的整理：</p>\n<!-- - Composition API setup() \n- ref()  v.s. reactive() \n- 減少 this 指向，改用 value 取得實體內的data\n- 自訂的 css 變數 var() \n- Teleport \n- Fragments 省略根元素 div \n- Emits 獨立出來 \n- #fallback 顯示 loading 的內容 \n- ::v-slotted 定義插槽樣式 ::v-global 破除scoped的全域樣式\n- 生命週期 createApp\n- proxy -->\n\n<h1 id=\"Composition-API\"><a href=\"#Composition-API\" class=\"headerlink\" title=\"Composition API\"></a>Composition API</h1><p>Vue3 一項顯著的變革就是 Composition API，提升撰寫每一個元件專屬方法與資料的便利性：</p>\n<blockquote>\n<p>Composition API is a set of APIs that allows us to author Vue components using imported functions instead of declaring options. It is an umbrella term that covers the following APIs.<br>Composition API 使得元件得以直接使用 import 進來的 functions，而不是透過選項來宣告，該特性封裝了以下的 API方法：</p>\n</blockquote>\n<h3 id=\"Reactivity-API\"><a href=\"#Reactivity-API\" class=\"headerlink\" title=\"Reactivity API\"></a>Reactivity API</h3><p>  例如 <code>ref()</code> 和 <code>reactive()</code> 可創造響應式（reactive）、計算式（computed）與監聽（watchers）的資料狀態</p>\n<h3 id=\"Lifecycle-Hooks\"><a href=\"#Lifecycle-Hooks\" class=\"headerlink\" title=\"Lifecycle Hooks\"></a>Lifecycle Hooks</h3><p>  例如 <code>onMounted()</code> 和 <code>onUnmounted()</code>, 容許使用編成方式撰寫元件的生命週期鉤子</p>\n<h3 id=\"Dependency-Injection\"><a href=\"#Dependency-Injection\" class=\"headerlink\" title=\"Dependency Injection\"></a>Dependency Injection</h3><p>  例如 <code>provide()</code> and <code>inject()</code>, 提供一個<code>祖父 -&gt; 父(跳過) -&gt; 子</code>元件之間依賴注入（Dependency Injection）的接口，可以更好的分化元件之間的需求，了解更多內容可以詳讀<a href=\"https://penueling.com/%E6%8A%80%E8%A1%93%E7%AD%86%E8%A8%98/vue3-%E7%9A%84%E8%B3%87%E6%96%99%E7%8B%80%E6%85%8B%E7%AE%A1%E7%90%86%EF%BC%8Cprovide-inject%E3%80%81vuex/\">這篇</a></p>\n<p>  簡單下個速記法：<br>  provide() 與 inject() 看做是 prop 的昇級版，看個示意圖吧！<br>  <img src=\"/images/vue3-composition-api/002.png\" class=\"\" width=\"800\" height=\"200\" title=\"vue3 composition api\"></p>\n<h3 id=\"Setup-script\"><a href=\"#Setup-script\" class=\"headerlink\" title=\"Setup script\"></a>Setup script</h3><p>Vue 3 將 Composition API 整合在單個元件的 <code>&lt;script setup&gt;</code> 標籤中，可以直接默認寫在裡面的內容都是提升到 <code>created()</code> 和 <code>beforeCreated()</code>的生命週期階段去實踐的</p>\n<blockquote>\n<p>In Vue 3, it is also primarily used together with the <code>&lt;script setup&gt;</code> syntax in Single-File Components.</p>\n</blockquote>\n<figure class=\"highlight javascript hljs\"><figcaption><span>component.vue</span></figcaption><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;script setup&gt;</span><br><span class=\"line\">  <span class=\"hljs-keyword\">import</span> { ref, onMounted } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'vue'</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"hljs-comment\">// reactive state</span></span><br><span class=\"line\">  <span class=\"hljs-keyword\">const</span> count = <span class=\"title function_\">ref</span>(<span class=\"hljs-number\">0</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"hljs-comment\">// functions that mutate state and trigger updates</span></span><br><span class=\"line\">  <span class=\"hljs-keyword\">function</span> <span class=\"title function_\">increment</span>(<span class=\"hljs-params\"></span>) {</span><br><span class=\"line\">    count.<span class=\"hljs-property\">value</span>++</span><br><span class=\"line\">  }</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"hljs-comment\">// lifecycle hooks</span></span><br><span class=\"line\">  <span class=\"title function_\">onMounted</span>(<span class=\"hljs-function\">() =&gt;</span> {</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"hljs-string\">`The initial count is <span class=\"hljs-subst\">${count.value}</span>.`</span>)</span><br><span class=\"line\">  })</span><br><span class=\"line\">  &lt;/script&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"hljs-language-xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">template</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"hljs-language-xml\">    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">button</span> @<span class=\"hljs-attr\">click</span>=<span class=\"hljs-string\">\"increment\"</span>&gt;</span>Count is: <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">button</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"hljs-language-xml\">  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">template</span>&gt;</span></span></span><br></pre></td></tr></tbody></table></figure>\n<hr>\n<h1 id=\"Reactivity-API-1\"><a href=\"#Reactivity-API-1\" class=\"headerlink\" title=\"Reactivity API\"></a>Reactivity API</h1><p>多了一層代理（proxy）包裹所有的資料（data），使得 vue3 在處理 data 上有些變革：</p>\n<ul>\n<li>ref() 傳入 primative value </li>\n<li>reactive() 傳入 object value<br>該選擇哪一種可以參考這篇 <a href=\"https://stackoverflow.com/questions/61452458/ref-vs-reactive-in-vue-3\">ref vs reactive in Vue 3?</a>，滿有助益的解釋非常通透呢！</li>\n</ul>\n<h3 id=\"ref\"><a href=\"#ref\" class=\"headerlink\" title=\"ref ()\"></a>ref ()</h3><p>當你需要將資料型態重新賦值（reassign）時可以選用 <code>ref()</code>，其實該方法背後也調用了 <code>reactive()</code> 只是你不知道而已，原始型別非常適合使用此代理包裹，另外當你的物件型別資料並沒有一開始的屬性值，例如空物件或空陣列，也可以考慮使用這個方式。<br>需要特別注意的點就是該方法取值要添加 <code>.value</code> 才能取得。</p>\n<blockquote><p>ref() Use-Case<br>You’ll always use ref() for primitives, but ref() is good for objects that need to be reassigned, like an array.</p>\n</blockquote>\n<blockquote><p>When you write ref([]) it is equivalent to ref(reactive([])).</p>\n</blockquote>\n\n<h3 id=\"reactive\"><a href=\"#reactive\" class=\"headerlink\" title=\"reactive ()\"></a>reactive ()</h3><p>當需要將物件型別的資料型態其中某個屬性值透過指向參考（dot notation）來修改值的時候可以選用 <code>reactive()</code>，前提在於你知道該物件內容的屬性值有哪些，屬性值彼此之間的牽動關聯性是甚麼，甚至可以直接撰寫 <code>computed()</code> 來決定某屬性值，該方法須注意不能被重新賦值更改指向參考，完全不會理你。</p>\n<blockquote><p>看到透過 reactive 包裝後的資料連 computed 都包裝了進去，是不是覺得非常的方便，不需要再另外切開去寫computed ，在尋找相依性的資料也變簡單。<br><a href=\"https://medium.com/i-am-mike/vue-3-ref-%E8%B7%9F-reactive-%E6%88%91%E8%A9%B2%E6%80%8E%E9%BA%BC%E9%81%B8-2fb6b6735a3c\">https://medium.com/i-am-mike/vue-3-ref-%E8%B7%9F-reactive-%E6%88%91%E8%A9%B2%E6%80%8E%E9%BA%BC%E9%81%B8-2fb6b6735a3c</a></p>\n</blockquote>\n<blockquote><p>reactive() Use-Case<br>A good use-case for reactive() is a group of primitives that belong together:</p>\n</blockquote>\n\n<h1 id=\"props\"><a href=\"#props\" class=\"headerlink\" title=\"props\"></a>props</h1><h3 id=\"非必要的-props\"><a href=\"#非必要的-props\" class=\"headerlink\" title=\"非必要的 props\"></a>非必要的 props</h3><p>只需要在非必要的 props 加上<code>?</code> 就可以囉！不然 typescript 會一直跳出警語 <code>ts(2322)</code></p>\n<figure class=\"highlight plaintext hljs\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const props = defineProps&lt;{ </span><br><span class=\"line\">  span: number, </span><br><span class=\"line\">  label: string, </span><br><span class=\"line\">  name: string, </span><br><span class=\"line\">  placeholder: string, </span><br><span class=\"line\">  prefix?: {</span><br><span class=\"line\">    type: string,</span><br><span class=\"line\">    default: ''</span><br><span class=\"line\">  }, </span><br><span class=\"line\">  suffix?: {</span><br><span class=\"line\">    type: string,</span><br><span class=\"line\">    default: ''</span><br><span class=\"line\">  }, </span><br><span class=\"line\">}&gt;()</span><br></pre></td></tr></tbody></table></figure>\n\n\n\n<h1 id=\"方法\"><a href=\"#方法\" class=\"headerlink\" title=\"方法\"></a>方法</h1><h3 id=\"toRaw\"><a href=\"#toRaw\" class=\"headerlink\" title=\"toRaw\"></a>toRaw</h3><p>轉換透過vue創造的代理物件為普通物件，可轉換的代理物件有 <code>reactive()</code>, <code>readonly()</code>, <code>shallowReactive()</code> 或 <code>shallowReadonly()</code>。<br>This is an escape hatch that can be used to temporarily read </p>\n<blockquote><p>Returns the raw, original object of a Vue-created proxy.</p>\n</blockquote></body></html>",
            "tags": [
                "vue",
                "vue3",
                "compositionAPI"
            ]
        }
    ]
}